---
title: "How residence time constrains diversity"
author: "Ken Locey, Jay Lennon"
date: "May 31, 2015"
header-includes:
   - \usepackage{array}
output: pdf_document
geometry: margin=2.54cm
---

```{r, results = 'hide'}
rm(list=ls()) 
getwd() 
setwd("~/GitHub/hydrobide") 
```

## INTRODUCTION

Here, we explore the constraining influence of ...  alpha ($\alpha$) diversity. 
We will quantify general components of $\alpha$-diversity: **richness** and **evenness**.
From there, we ...  **species-abundance distributions (SAD)**.

```{r, results = 'hide', message=FALSE}
#install.packages("vegan") 
require("vegan") 
```

## 2) LOADING DATA

```{r}
sim.data <- read.csv("./results/simulated_data/SimData.csv")  
```


```{r}
par(mfrow=c(2, 2))
tau <- log(sim.data$TracerParticle_ResTime)
N <- log(sim.data$TotalAbundance)
plot(tau, N, xlab="Particle Residence Time", 
     ylab="Total Abundance", 
     main = "N vs. Tau", col='SteelBlue')

tau <- log(sim.data$MicrobeCell_ResTime)
plot(tau, N, xlab="Cell Residence Time", 
     ylab="Total Abundance", 
     main = "N vs. Tau", col='darkorchid4')


tau <- log(sim.data$TracerParticle_ResTime)
S <- log(sim.data$SpeciesRichness)
plot(tau, S, xlab="Particle Residence Time", 
     ylab="Species Richness", 
     main = "S vs. Tau", col='SteelBlue')

tau <- log(sim.data$MicrobeCell_ResTime)
plot(tau, S, xlab="Cell Residence Time", 
     ylab="Species Richness", 
     main = "S vs. Tau", col='darkorchid4')
```



```{r}
par(mfrow=c(2, 2))
tau <- log(sim.data$MicrobeCell_ResTime)
N <- sim.data$TotalAbundance
plot(tau, log(N), xlab="Cell Residence Time", 
     ylab="Total Abundance", 
     col='SteelBlue')

S <- sim.data$SpeciesRichness
plot(tau, log(S), xlab="Cell Residence Time", 
     ylab="Species Richness", 
     col='darkorchid4')

E <- sim.data$Evar
plot(tau, E, xlab="Cell Residence Time", 
     ylab="Species Evenness", 
     col='SteelBlue')

avg.ab <- N/S
plot(tau, avg.ab, xlab="Cell Residence Time", 
     ylab="Average Abundance", 
     col='darkorchid4')
```



```{r}
par(mfrow=c(2, 2))
tau <- log(sim.data$MicrobeCell_ResTime)
BP <- sim.data$BergerParker
plot(tau, BP, xlab="Cell Residence Time", 
     ylab="Berger-Parker", 
     col='SteelBlue')

SimpD <- sim.data$InvSimpDiversity
plot(tau, SimpD, xlab="Cell Residence Time", 
     ylab="Simpsons Diversity (1/D)", 
     col='darkorchid4')

Skew <- sim.data$Skew
plot(tau, Skew, xlab="Cell Residence Time", 
     ylab="Skewness", 
     col='SteelBlue')

Nmax <- sim.data$Nmax
plot(tau, log(Nmax), xlab="Cell Residence Time", 
     ylab="Nmax", 
     col='darkorchid4')
```



```{r}
rads <- c()
rad.list <- readLines("~/GitHub/hydrobide/results/simulated_data/RADs.csv")  
for (rad in rad.list) {
  rad <- unlist(strsplit(rad, split = ","))  
  rad <- as.numeric(rad)
  rads <- c(rads, rad)
  }
```
